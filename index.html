<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pilotage de Solveur d'Emplois du Temps</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <header>
    <h1>Pilotage de Solveur d'Emplois du Temps</h1>
  </header>

  <main>
    <!-- Section 1: Sélection d'instance -->
    <section class="section-block" id="instance-selection">
      <h2>Sélection d'Instance</h2>

      <div class="search-filter">
        <input type="text" id="instance-search" placeholder="Rechercher une instance...">
        <select id="instance-type-filter">
          <option value="all">Tous les types</option>
          <option value="L1">L1</option>
          <option value="L2">L2</option>
          <option value="L3">L3</option>
          <option value="Master">Master</option>
        </select>
        <button id="search-button">Rechercher</button>
      </div>

      <div class="instances-table-container">
        <table id="instances-table">
          <thead>
            <tr>
              <th>Sélectionner</th>
              <th>Nom</th>
              <th>Formation</th>
              <th>Période</th>
              <th>Nb Cours</th>
              <th>Dernière modification</th>
            </tr>
          </thead>
          <tbody id="instances-list">
            <!-- Liste des instances générée par JavaScript -->
          </tbody>
        </table>
      </div>

      <div class="instance-details" id="instance-details">
        <h3>Détails de l'instance sélectionnée</h3>
        <div id="instance-info">
          <!-- Informations sur l'instance sélectionnée -->
        </div>
      </div>
    </section>

    <!-- Section 2: Configuration du solveur -->
    <section class="section-block" id="solver-config">
      <h2>Configuration du Solveur</h2>

      <form id="solver-config-form">
        <!-- Paramètres généraux -->
        <div class="config-section">
          <h3>Paramètres généraux</h3>
          <div class="form-group">
            <label for="time-out">Temps maximum (secondes):</label>
            <input type="number" id="time-out" name="time_out" min="1" value="40">
          </div>
        </div>

        <!-- Stratégies des variables -->
        <div class="config-section">
          <h3>Stratégies des variables</h3>
          <div id="vars-strategies">
            <!-- Stratégies générées par JavaScript -->
          </div>
          <button type="button" id="add-strategy">+ Ajouter une stratégie</button>
        </div>

        <!-- Contraintes fondamentales -->


        <div class="config-section">
          <div class="section-header">
            <h3>Contraintes fondamentales</h3>
            <button type="button" class="toggle-button" data-target="core-constraints-list">
              <span class="expand-icon">▼</span>
            </button>
          </div>
          <div id="core-constraints">
            <div id="core-constraints-list" class="constraint-list">
              <!-- Contraintes fondamentales -->
              <div class="constraint-item">
                <input type="checkbox" id="core-implicite_sequenced_sessions" name="core_constraint[]"
                  value="implicite_sequenced_sessions" checked>
                <label for="core-implicite_sequenced_sessions">implicite_sequenced_sessions</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="core-teacher_service" name="core_constraint[]" value="teacher_service"
                  checked>
                <label for="core-teacher_service">teacher_service</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="core-disjunctive_teacher" name="core_constraint[]"
                  value="disjunctive_teacher" checked>
                <label for="core-disjunctive_teacher">disjunctive_teacher</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="core-disjunctive_group" name="core_constraint[]" value="disjunctive_group"
                  checked>
                <label for="core-disjunctive_group">disjunctive_group</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="core-disjunctive_room" name="core_constraint[]" value="disjunctive_room"
                  checked>
                <label for="core-disjunctive_room">disjunctive_room</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="core-size_of_multiroom" name="core_constraint[]" value="size_of_multiroom"
                  checked>
                <label for="core-size_of_multiroom">size_of_multiroom</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="core-bench_class_equilibrate" name="core_constraint[]"
                  value="bench_class_equilibrate" checked>
                <label for="core-bench_class_equilibrate">bench_class_equilibrate</label>
              </div>
            </div>
          </div>
        </div>

        <!-- Contraintes métier -->
        <div class="config-section">
          <div class="section-header">
            <h3>Contraintes métier</h3>
            <button type="button" class="toggle-button" data-target="user-constraints-list">
              <span class="expand-icon">▼</span>
            </button>
          </div>
          <div id="user-constraints">
            <div id="user-constraints-list" class="constraint-list">
              <!-- Contraintes métier -->
              <div class="constraint-item">
                <input type="checkbox" id="user-sameRooms" name="user_constraint[]" value="sameRooms" checked>
                <label for="user-sameRooms">sameRooms</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-sameTeachers" name="user_constraint[]" value="sameTeachers" checked>
                <label for="user-sameTeachers">sameTeachers</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-allowedPeriod" name="user_constraint[]" value="allowedPeriod" checked>
                <label for="user-allowedPeriod">allowedPeriod</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-forbiddenPeriod" name="user_constraint[]" value="forbiddenPeriod"
                  checked>
                <label for="user-forbiddenPeriod">forbiddenPeriod</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-weekly" name="user_constraint[]" value="weekly" checked>
                <label for="user-weekly">weekly</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-sameWeek" name="user_constraint[]" value="sameWeek" checked>
                <label for="user-sameWeek">sameWeek</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-assignRoom" name="user_constraint[]" value="assignRoom" checked>
                <label for="user-assignRoom">assignRoom</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-forbiddenRooms" name="user_constraint[]" value="forbiddenRooms" checked>
                <label for="user-forbiddenRooms">forbiddenRooms</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-sameWeekDay" name="user_constraint[]" value="sameWeekDay" checked>
                <label for="user-sameWeekDay">sameWeekDay</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-differentWeekDay" name="user_constraint[]" value="differentWeekDay"
                  checked>
                <label for="user-differentWeekDay">differentWeekDay</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-differentSlots" name="user_constraint[]" value="differentSlots" checked>
                <label for="user-differentSlots">differentSlots</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-disjunct" name="user_constraint[]" value="disjunct" checked>
                <label for="user-disjunct">disjunct</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-sameWeeklySlot" name="user_constraint[]" value="sameWeeklySlot" checked>
                <label for="user-sameWeeklySlot">sameWeeklySlot</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-differentWeek" name="user_constraint[]" value="differentWeek" checked>
                <label for="user-differentWeek">differentWeek</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-sameSlot" name="user_constraint[]" value="sameSlot" checked>
                <label for="user-sameSlot">sameSlot</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-sameSlots" name="user_constraint[]" value="sameSlots" checked>
                <label for="user-sameSlots">sameSlots</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-periodic" name="user_constraint[]" value="periodic" checked>
                <label for="user-periodic">periodic</label>
              </div>
              <div class="constraint-item">
                <input type="checkbox" id="user-sequenced" name="user_constraint[]" value="sequenced" checked>
                <label for="user-sequenced">sequenced</label>
              </div>
            </div>
          </div>
        </div>

        <!-- Désactivation de règles -->
        <div class="config-section">
          <h3>Désactivation de règles</h3>
          <div class="form-group">
            <label for="deactivate-rules">Règles à désactiver (ex: 1,2-5):</label>
            <input type="text" id="deactivate-rules" name="deactivate_rules">
          </div>
        </div>

        <!-- Boutons d'action -->
        <div class="form-actions">
          <button type="button" id="start-solver">Lancer le solveur</button>
          <button type="button" id="save-config">Enregistrer configuration</button>
          <button type="reset">Réinitialiser</button>
        </div>
      </form>
    </section>

    <!-- Section 3: Résultats et statut -->
    <section class="section-block" id="solver-results">
      <h2>Résultats</h2>

      <div class="status-section">
        <h3>Statut du solveur</h3>
        <div class="status-info">
          <p>État: <span id="solver-status">Inactif</span></p>
          <p>Temps écoulé: <span id="elapsed-time">0s</span></p>
        </div>
        <div class="progress-bar">
          <div class="progress" id="solver-progress"></div>
        </div>
      </div>

      <div class="results-section" id="results-content">
        <h3>Résumé de la solution</h3>
        <div id="solution-stats">
          <!-- Statistiques de la solution générées par JavaScript -->
        </div>

        <h3>Emploi du temps généré</h3>
        <div id="timetable-preview">
          <!-- Aperçu de l'emploi du temps généré -->
        </div>

        <div class="results-actions">
          <button id="save-solution">Enregistrer la solution</button>
          <button id="export-solution">Exporter</button>
          <button id="view-full-timetable">Voir l'emploi du temps complet</button>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Université d'Angers - LERIA</p>
  </footer>

  <script src="js/app.js"></script>

</body>

</html>